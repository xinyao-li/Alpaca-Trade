
2023-04-18 10:44:16,174 - INFO - buying power is: 112234.49330856047
2023-04-18 10:44:16,174 - INFO - last trade price is: 29727
2023-04-18 10:44:16,175 - INFO - holding amount is: 1.256251285
2023-04-18 10:44:16,920 - INFO - Sold all amounts
2023-04-18 11:32:47,541 - INFO - buying power is: 112234.49330856047
2023-04-18 11:32:47,543 - INFO - last trade price is: 29727
2023-04-18 11:32:47,543 - INFO - holding amount is: 0
2023-04-18 12:50:00,078 - INFO - buying power is: 187863.44682615195
2023-04-18 12:50:00,079 - INFO - last trade price is: 30263.542
2023-04-18 12:50:00,079 - INFO - holding amount is: 0
2023-04-18 12:50:00,681 - INFO - Bought 0.6215881511879541 of BTC/USD at price: 30223.138338
2023-04-18 12:50:00,782 - INFO - last trade price is: 30223.138338
2023-04-18 12:50:11,602 - INFO - Bought 0.6222166807906708 of BTC/USD at price: 30192.60856
2023-04-18 12:50:11,704 - INFO - last trade price is: 30192.60856
2023-04-18 12:50:54,104 - INFO - buying power is: 112724.70033841961
2023-04-18 12:50:54,105 - INFO - last trade price is: 30192.60856
2023-04-18 12:50:54,105 - INFO - holding amount is: 1.24156598
2023-04-18 13:01:09,050 - INFO - buying power is: 112724.70033841961
2023-04-18 13:01:09,052 - INFO - last trade price is: 30192.60856
2023-04-18 13:01:09,052 - INFO - holding amount is: 1.24156598
2023-04-18 13:06:58,594 - INFO - Sold 0.37286836925455247 of BTC/USD at price: 30231.768
2023-04-18 13:06:58,695 - INFO - last trade price is: 30231.768
2023-04-18 13:09:22,850 - INFO - Sold half amounts
2023-04-18 13:09:24,274 - INFO - Sold half amounts
2023-04-18 13:09:25,680 - INFO - Sold half amounts
2023-04-18 13:09:27,085 - INFO - Sold half amounts
2023-04-18 13:09:28,452 - INFO - Sold half amounts
2023-04-18 13:09:29,845 - INFO - Sold half amounts
2023-04-18 13:09:31,241 - INFO - Sold half amounts
2023-04-18 13:45:25,202 - INFO - Sold half amounts
2023-04-18 13:45:26,736 - INFO - Sold half amounts
2023-04-18 13:45:28,126 - INFO - Sold half amounts
2023-04-18 13:45:29,528 - INFO - Sold half amounts
2023-04-18 14:16:20,770 - INFO - buying power is: 187684.24825599915
2023-04-18 14:16:20,772 - INFO - last trade price is: 30424.5
2023-04-18 14:16:20,772 - INFO - holding amount is: 0.000424169
2023-04-18 14:16:57,745 - INFO - buying power is: 187684.24825599915
2023-04-18 14:16:57,747 - INFO - last trade price is: 30424.5
2023-04-18 14:16:57,747 - INFO - holding amount is: 0.000424169
2023-04-18 14:16:57,865 - INFO - buying power is: 187684.24825599915
2023-04-18 14:16:57,865 - INFO - last trade price is: 30424.5
2023-04-18 14:16:57,865 - INFO - holding amount is: 0.000424169
2023-04-18 14:19:01,069 - INFO - Bought 0.6185653346033468 of BTC/USD at price: 30341.86330153
2023-04-18 14:19:01,160 - INFO - last trade price is: 30341.86330153
2023-04-18 14:22:36,132 - INFO - Sold half amounts
2023-04-18 14:22:37,514 - INFO - Sold half amounts
2023-04-18 14:22:38,907 - INFO - Sold half amounts
2023-04-18 14:22:40,288 - INFO - Sold half amounts
2023-04-18 14:22:41,689 - INFO - Sold half amounts
2023-04-18 14:22:43,080 - INFO - Sold half amounts
2023-04-18 14:22:45,220 - INFO - buying power is: 186984.1302903134
2023-04-18 14:22:45,220 - INFO - last trade price is: 30354.7741086
2023-04-18 14:22:45,220 - INFO - holding amount is: 0.009654314
2023-04-18 14:24:13,417 - INFO - buying power is: 186984.1302903134
2023-04-18 14:24:13,417 - INFO - last trade price is: 30354.7741086
2023-04-18 14:24:13,418 - INFO - holding amount is: 0.009654314
2023-04-18 14:24:13,978 - INFO - Sold half amounts
2023-04-18 14:26:07,710 - INFO - buying power is: 187276.65116404966
2023-04-18 14:26:07,711 - INFO - last trade price is: 30359.209
2023-04-18 14:26:07,711 - INFO - holding amount is: 0.004827157
2023-04-18 14:37:11,450 - INFO - Bought 0.6174900244236765 of BTC/USD at price: 30328.692571
2023-04-18 14:37:11,552 - INFO - last trade price is: 30328.692571
2023-04-18 15:05:54,995 - INFO - Sold half amounts
2023-04-18 15:10:49,113 - INFO - buying power is: 187276.65116404966
2023-04-18 15:10:49,116 - INFO - last trade price is: 30359.209
2023-04-18 15:10:49,116 - INFO - holding amount is: 0.310602849
2023-04-18 16:20:35,228 - INFO - buying power is: 168652.39673174158
2023-04-18 16:20:35,230 - INFO - last trade price is: 30359.209
2023-04-18 16:20:35,230 - INFO - holding amount is: 0.310602849
2023-04-18 16:30:32,890 - INFO - buying power is: 168652.39673174158
2023-04-18 16:30:32,891 - INFO - last trade price is: 30359.209
2023-04-18 16:30:32,891 - INFO - holding amount is: 0.310602849
2023-04-18 17:21:18,433 - INFO - Bought 0.5551995415382498 of BTC/USD at price: 30376.8976942
2023-04-18 17:21:18,532 - INFO - last trade price is: 30376.8976942
2023-04-18 17:43:42,869 - ERROR - Buy Order submission failed
Traceback (most recent call last):
  File "/Users/xinyaoli/PycharmProjects/Alpaca-Test/venv/lib/python3.8/site-packages/urllib3/connectionpool.py", line 449, in _make_request
    six.raise_from(e, None)
  File "<string>", line 3, in raise_from
  File "/Users/xinyaoli/PycharmProjects/Alpaca-Test/venv/lib/python3.8/site-packages/urllib3/connectionpool.py", line 444, in _make_request
    httplib_response = conn.getresponse()
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/http/client.py", line 1322, in getresponse
    response.begin()
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/http/client.py", line 303, in begin
    version, status, reason = self._read_status()
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/http/client.py", line 264, in _read_status
    line = str(self.fp.readline(_MAXLINE + 1), "iso-8859-1")
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/socket.py", line 669, in readinto
    return self._sock.recv_into(b)
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/ssl.py", line 1241, in recv_into
    return self.read(nbytes, buffer)
  File "/Library/Frameworks/Python.framework/Versions/3.8/lib/python3.8/ssl.py", line 1099, in read
    return self._sslobj.read(len, buffer)
TimeoutError: [Errno 60] Operation timed out

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/Users/xinyaoli/PycharmProjects/Alpaca-Test/venv/lib/python3.8/site-packages/requests/adapters.py", line 489, in send
    resp = conn.urlopen(
  File "/Users/xinyaoli/PycharmProjects/Alpaca-Test/venv/lib/python3.8/site-packages/urllib3/connectionpool.py", line 787, in urlopen
    retries = retries.increment(
  File "/Users/xinyaoli/PycharmProjects/Alpaca-Test/venv/lib/python3.8/site-packages/urllib3/util/retry.py", line 550, in increment
    raise six.reraise(type(error), error, _stacktrace)
  File "/Users/xinyaoli/PycharmProjects/Alpaca-Test/venv/lib/python3.8/site-packages/urllib3/packages/six.py", line 770, in reraise
    raise value
  File "/Users/xinyaoli/PycharmProjects/Alpaca-Test/venv/lib/python3.8/site-packages/urllib3/connectionpool.py", line 703, in urlopen
    httplib_response = self._make_request(
  File "/Users/xinyaoli/PycharmProjects/Alpaca-Test/venv/lib/python3.8/site-packages/urllib3/connectionpool.py", line 451, in _make_request
    self._raise_timeout(err=e, url=url, timeout_value=read_timeout)
  File "/Users/xinyaoli/PycharmProjects/Alpaca-Test/venv/lib/python3.8/site-packages/urllib3/connectionpool.py", line 357, in _raise_timeout
    raise ReadTimeoutError(
urllib3.exceptions.ReadTimeoutError: HTTPSConnectionPool(host='paper-api.alpaca.markets', port=443): Read timed out. (read timeout=None)

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/Users/xinyaoli/PycharmProjects/Alpaca-Test/main.py", line 80, in grid_trading
    self.api.submit_order(ticker, buying_amount, 'buy', 'market', time_in_force='gtc')
  File "/Users/xinyaoli/PycharmProjects/Alpaca-Test/venv/lib/python3.8/site-packages/alpaca_trade_api/rest.py", line 429, in submit_order
    resp = self.post('/orders', params)
  File "/Users/xinyaoli/PycharmProjects/Alpaca-Test/venv/lib/python3.8/site-packages/alpaca_trade_api/rest.py", line 253, in post
    return self._request('POST', path, data)
  File "/Users/xinyaoli/PycharmProjects/Alpaca-Test/venv/lib/python3.8/site-packages/alpaca_trade_api/rest.py", line 213, in _request
    return self._one_request(method, url, opts, retry)
  File "/Users/xinyaoli/PycharmProjects/Alpaca-Test/venv/lib/python3.8/site-packages/alpaca_trade_api/rest.py", line 232, in _one_request
    resp = self._session.request(method, url, **opts)
  File "/Users/xinyaoli/PycharmProjects/Alpaca-Test/venv/lib/python3.8/site-packages/requests/sessions.py", line 587, in request
    resp = self.send(prep, **send_kwargs)
  File "/Users/xinyaoli/PycharmProjects/Alpaca-Test/venv/lib/python3.8/site-packages/requests/sessions.py", line 701, in send
    r = adapter.send(request, **kwargs)
  File "/Users/xinyaoli/PycharmProjects/Alpaca-Test/venv/lib/python3.8/site-packages/requests/adapters.py", line 578, in send
    raise ReadTimeout(e, request=request)
requests.exceptions.ReadTimeout: HTTPSConnectionPool(host='paper-api.alpaca.markets', port=443): Read timed out. (read timeout=None)
2023-04-18 17:43:42,874 - INFO - last trade price is: 30376.8976942
2023-04-18 18:11:06,402 - INFO - Bought 0.5558381014163258 of BTC/USD at price: 30342
2023-04-18 18:11:06,501 - INFO - last trade price is: 30342
